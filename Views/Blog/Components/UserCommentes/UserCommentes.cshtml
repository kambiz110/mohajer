@using Mohajer.Useful.Static
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@using Mohajer.Entity
@model IEnumerable<Comment>

@if (Model != null && Model.Count() > 0)
{
    <div class="p-4 shadow rounded mt-4 pt-2">
        <h4 class="page-title pb-3">@StaticBlog.NazaratUseres :</h4>
        <ul class="media-list list-unstyled mb-0">

            @foreach (var item in Model)
            {
            <li class="comment-desk mt-4">
                @if (User.Identity.IsAuthenticated)
                {
                    <a asp-action="AnswerComment" asp-controller="Comment" asp-area="Admin" asp-route-id="@item.Id" class="float-right text-muted"><i class="mdi mdi-reply"></i>&nbsp; پاسخ</a>
                }

                <div class="commentor">
                    <a class="float-left pr-3" href="#">
                        <img src="~/Uploud/Profile/default-avatar.png" class="img-fluid avatar avatar-md-sm rounded-pill shadow" alt="img">
                    </a>
                    <div class="overflow-hidden d-block">
                        <h4 class="media-heading mb-0"><a href="javascript:void(0)" class="text-dark">@item.Name</a></h4>
                        <small class="text-muted">@item.AtInserted.ToPersianDateStrFarsi()</small>
                    </div>
                </div>
                <div class="mt-3">
                    <p class="text-muted font-italic p-3 bg-light rounded">"  @item.CommentMsg  "</p>
                </div>
                @if (item.AtInserted != null)
                {
                    <div class="w3-panel w3-sand w3-rightbar">
                        <p>
                            <i class="mdi mdi-comma-circle w3-large w3-opacity">&nbsp; پاسخ :</i><br>
                            <i class="w3-serif w3-medium">@item.AnserMsg</i>
                        </p>
                    </div>
                }

            </li>
            }


        </ul>
    </div>
}
